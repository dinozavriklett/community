/* =========================
   RESET / BASE
========================= */
*{
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body{
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: 'Manrope', system-ui, -apple-system, "Segoe UI", sans-serif;
  background: #000;
  color: #fff;
}

/* =========================
   SPACE / WORLD
========================= */
#space{
  position: fixed;
  inset: 0;
  overflow: hidden;
}

#world{
  will-change: transform;
  position: absolute;
  width: 3000px;
  height: 2200px;
}

@media (max-width: 768px){
  #world{
    width: 1800px;
    height: 1400px;
  }
}

/* =========================
   CANVAS BACKGROUND
   ‚úÖ –í–ê–ñ–ù–û: —Ñ–∏–∫—Å–∏—Ä—É–µ–º –¢–û–õ–¨–ö–û —Ñ–æ–Ω–æ–≤—ã–µ canvas
========================= */
#starfieldFar,
#starfieldNear,
#shooting{
  position: fixed;
  inset: 0;
  pointer-events: none;
}

#starfieldFar{ z-index: 0; }
#starfieldNear{ z-index: 1; }
#shooting{ z-index: 2; }

/* =========================
   HEADER
========================= */
.header{
  position: fixed;
  top: 48px;
  width: 100%;
  text-align: center;
  z-index: 10;
  pointer-events: none;
}

.header h1{
  font-family: 'Space Grotesk', system-ui, -apple-system, "Segoe UI", sans-serif;
  font-size: 44px;
  letter-spacing: 0.18em;
  color: rgba(135,175,255,0.95);
  text-shadow:
    0 0 26px rgba(135,175,255,0.95),
    0 0 62px rgba(135,175,255,0.55);
}

.header p{
  margin-top: 10px;
  font-size: 16px;
  letter-spacing: 0.04em;
  color: rgba(135,175,255,0.7);
  text-shadow: 0 0 18px rgba(135,175,255,0.55);
}

/* =========================
   FOOTER
========================= */
.footer{
  position: fixed;
  bottom: 24px;
  width: 100%;
  text-align: center;
  font-size: 13px;
  color: rgba(255,255,255,0.25);
  z-index: 10;
  pointer-events: none;
}

/* =========================
   STAR WRAPPER
========================= */
.star-wrapper{
  position: absolute;
  transform: translate(-50%, -50%);
  width: 18px;
  height: 18px;
}


/* =========================
   PERSON STAR ‚Äî 4-LUCH + SVET
========================= */
.person-star{
  position: relative;
  width: 18px;
  height: 18px;
  mix-blend-mode: screen;
  opacity: 1;

    filter:
    drop-shadow(0 0 1px rgba(0,0,0,0.55))
    drop-shadow(0 0 5px rgba(255,255,255,0.95))
    drop-shadow(0 0 14px rgba(200,230,255,0.85))
    drop-shadow(0 0 42px rgba(165,210,255,0.35));
}

/* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –ª—É—á */
.person-star::before{
  content: "";
  position: absolute;
  left: 50%;
  top: -70%;
  width: 1.15px;
  height: 240%;
  transform: translateX(-50%);
  background: linear-gradient(
    to bottom,
    transparent,
    rgba(255,255,255,1),
    transparent
  );
}

/* –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –ª—É—á */
.person-star::after{
  content: "";
  position: absolute;
  top: 50%;
  left: -70%;
  height: 1.15px;
  width: 240%;
  transform: translateY(-50%);
  background: linear-gradient(
    to right,
    transparent,
    rgba(255,255,255,1),
    transparent
  );
}
@media (max-width: 768px){
  .person-star{
    filter:
      drop-shadow(0 0 6px rgba(200,230,255,0.8));
  }
}
/* =========================
   STAR NAME
========================= */
.star-name{
  position: absolute;
  top: calc(100% + 10px); /* —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥ –∑–≤–µ–∑–¥–æ–π */
  left: 50%;
  transform: translateX(-50%);

  margin-top: 0;
  font-size: 14px;
  text-align: center;
  white-space: nowrap;

  color: rgba(255,255,255,1);
  text-shadow:
    0 0 14px rgba(210,235,255,1),
    0 0 36px rgba(185,220,255,0.85),
    0 0 80px rgba(160,205,255,0.55);
}

/* =========================
   TOOLTIP (GLASS)
   ‚úÖ —Ñ–æ–Ω –∫–æ—Å–º–æ—Å–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –í–ò–î–ï–ù —á–µ—Ä–µ–∑ –∫–∞—Ä—Ç–æ—á–∫—É
========================= */
/* =========================
   TOOLTIP (GLASS) ‚Äî –¢–û–õ–¨–ö–û –¢–ê–ë–õ–ò–ß–ö–ò
   ‚úÖ –≤–∏–¥–Ω–æ —Ñ–æ–Ω –∫–æ—Å–º–æ—Å–∞
   ‚úÖ –±–ª—é—Ä–∏—Ç –∑–≤—ë–∑–¥—ã –∏ –ª–∏–Ω–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ó–ê –∫–∞—Ä—Ç–æ—á–∫–æ–π
========================= */
.tooltip{
  position: absolute;
  left: 50%;
  bottom: -78px;

  transform: translateX(-50%) translateY(6px);
  opacity: 0;

  width: max-content;
  max-width: min(560px, calc(100vw - 48px));
  padding: 14px 22px;

  border-radius: 18px;
  overflow: hidden;

  /* —Å—Ç–µ–∫–ª–æ: —Ç–µ–º–Ω–æ-—Å–∏–Ω–µ–µ, –Ω–æ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ */
  background: rgba(7, 14, 26, 0.08);

  /* blur –∏–º–µ–Ω–Ω–æ –∑–∞–¥–Ω–∏–∫–∞ */
  -webkit-backdrop-filter: blur(16px) saturate(125%);
  backdrop-filter: blur(16px) saturate(125%);

  border: 1px solid rgba(150, 200, 255, 0.22);
  box-shadow:
    0 14px 40px rgba(0, 0, 0, 0.38),
    0 0 0 1px rgba(20, 40, 70, 0.22) inset;

  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease;
}

@media (max-width: 768px){
  .tooltip{
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
  }
}
.star-wrapper:hover .tooltip{
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* –í–ê–ñ–ù–û: —É–±–∏—Ä–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π "—Å–∫—Ä–∏–Ω—à–æ—Ç" –Ω–µ–±–∞, –æ–Ω –ª–æ–º–∞–µ—Ç blur */
.tooltip .tooltip-bg{ display: none !important; }

/* –ª—ë–≥–∫–∏–π —Ç–∏–Ω—Ç, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç —á–∏—Ç–∞–ª—Å—è, –Ω–æ —Ñ–æ–Ω –±—ã–ª –≤–∏–¥–µ–Ω */
.tooltip-tint{
  position: absolute;
  inset: 0;
  background: rgba(10, 18, 32, 0.18); /* –æ—á–µ–Ω—å –ª—ë–≥–∫–∏–π */
  pointer-events: none;
}

/* —Ç–µ–∫—Å—Ç */
.tooltip .tooltip-text{
  position: relative;
  z-index: 1;

  font-size: 18px;
  line-height: 1.25;
  text-align: center;
  color: rgba(245,250,255,0.92);

  white-space: normal;
  word-break: break-word;
  overflow-wrap: anywhere;
}

.tooltip::before,
.tooltip::after{
  content: none !important;
}
/* =========================
   CONSTELLATION LINES
========================= */
#constellation{
  position: absolute;
  inset: 0;
  z-index: 3;
  pointer-events: none;
}

#constellation line{
  stroke: rgba(135,175,255,0.95); /* –∫–∞–∫ –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
  stroke-width: 1.7;

  filter:
    drop-shadow(0 0 12px rgba(135,175,255,0.95))
    drop-shadow(0 0 36px rgba(135,175,255,0.55));
}



/* ‚úÖ —á—Ç–æ–±—ã backdrop-filter –±–ª—é—Ä–∏–ª –ª–∏–Ω–∏–∏/–∑–≤—ë–∑–¥—ã:
   –ª–∏–Ω–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∏–∂–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
#constellation{ z-index: 2 !important; }

/* –∑–≤—ë–∑–¥—ã-–ª—é–¥–∏ –≤—ã—à–µ –ª–∏–Ω–∏–π */
.star-wrapper{ z-index: 4 !important; }

/* –∫–∞—Ä—Ç–æ—á–∫–∞ –≤—ã—à–µ –≤—Å–µ–≥–æ —Å–æ–∑–≤–µ–∑–¥–∏—è */
.tooltip{ z-index: 999 !important; }

/* === FIX: –≤—Å–µ–≥–¥–∞ –Ω–∞—Å—Ç–æ—è—â–µ–µ —Å—Ç–µ–∫–ª–æ, –±–µ–∑ "—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏" –≤–Ω—É—Ç—Ä–∏ === */
.tooltip .tooltip-bg{ 
  display:none !important; 
}

/* –¥–µ–ª–∞–µ–º —Å—Ç–µ–∫–ª–æ —á—É—Ç—å "—á–µ—Å—Ç–Ω–µ–µ" (—Ñ–æ–Ω –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –∏ –±–ª—é—Ä–∏—Ç—å—Å—è) */
.tooltip{
  background: rgba(7, 14, 26, 0.10) !important;
  -webkit-backdrop-filter: blur(16px) saturate(120%) !important;
  backdrop-filter: blur(16px) saturate(120%) !important;
}

/* –ø–æ –∂–µ–ª–∞–Ω–∏—é: —á—É—Ç—å –º–µ–Ω—å—à–µ –∑–∞—Ç–µ–º–Ω–µ–Ω–∏—è, —á—Ç–æ–±—ã –∑–≤–µ–∑–¥—ã —á–∏—Ç–∞–ª–∏—Å—å */
.tooltip .tooltip-tint{
  background: rgba(7, 14, 26, 0.06) !important;
}

/* =========================
   üîí STABLE GLASS FIX
   –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç blur –≤—Å–µ–≥–æ –ø–æ–¥ tooltip
========================= */

/* —É–±–∏—Ä–∞–µ–º –≤–ª–∏—è–Ω–∏–µ transform —Ä–æ–¥–∏—Ç–µ–ª—è */
.star-wrapper{
  transform: translate(-50%, -50%);
  isolation: auto; /* ‚úÖ –ë–´–õ–û isolate ‚Äî –º–µ—à–∞–ª–æ blur */
}

/* tooltip –≤—Å–µ–≥–¥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å—Ç–µ–∫-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ */
.tooltip{
  position: absolute;
  z-index: 1000;
  isolation: auto; /* ‚úÖ –ë–´–õ–û isolate ‚Äî –º–µ—à–∞–ª–æ blur */

  /* —Ñ–æ–Ω –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å –∞–ª—å—Ñ–æ–π */
  background-color: rgba(7, 14, 26, 0.12);

  /* —Ä–µ–∞–ª—å–Ω—ã–π blur */
  -webkit-backdrop-filter: blur(18px) saturate(125%);
  backdrop-filter: blur(18px) saturate(125%);
}

/* –ª–∏–Ω–∏–∏ –∏ –∑–≤—ë–∑–¥—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø–æ–¥ tooltip */
#starfieldFar,
#starfieldNear,
#shooting,
#constellation{
  z-index: 1;
}

/* –∑–≤—ë–∑–¥—ã –∏ –∏–º–µ–Ω–∞ –Ω–∏–∂–µ –∫–∞—Ä—Ç–æ—á–µ–∫ */
.star-wrapper{
  z-index: 3;
}

/* –∏–º–µ–Ω–∞ –≤—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö —Å–≤–æ–µ–π –∑–≤–µ–∑–¥—ã,
   –Ω–æ –Ω–∏–∂–µ tooltip */
.star-name{
  position: relative;
  z-index: 2;

  color: rgba(255,255,255,0.95);
  text-shadow:
    0 0 10px rgba(210,235,255,0.95),
    0 0 24px rgba(185,220,255,0.75);
}

/* ===== DRAG PAN CURSOR ===== */
#space {
  cursor: grab;
}

#space.is-grabbing {
  cursor: grabbing;
}
.star-name{
  width: max-content;   /* —á—Ç–æ–±—ã —Ü–µ–Ω—Ç—Ä —Å—á–∏—Ç–∞–ª—Å—è –ø–æ —Ä–µ–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω–µ —Ç–µ–∫—Å—Ç–∞ */
  text-align: center;
}

/* === FIX: –∏–º—è –≤—Å–µ–≥–¥–∞ —Å—Ç—Ä–æ–≥–æ –ø–æ–¥ —Ü–µ–Ω—Ç—Ä–æ–º –∑–≤–µ–∑–¥—ã === */

/* –∑–≤–µ–∑–¥–∞ –≤—Å–µ–≥–¥–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ —è–∫–æ—Ä—è */
.person-star{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

/* === TOOLTIP: –†–ï–ê–õ–¨–ù–´–ô BLUR –§–û–ù–ê === */
.tooltip{
  position: absolute;
  left: 50%;
  bottom: -78px;
  transform: translateX(-50%) translateY(6px);
  opacity: 0;

  padding: 14px 22px;
  border-radius: 18px;

  /* –í–ê–ñ–ù–û: —Ä–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å */
  background: rgba(10, 18, 32, 0.35);

  /* –í–û–¢ –û–ù ‚Äî –±–ª—é—Ä –§–û–ù–ê */
  -webkit-backdrop-filter: blur(14px) saturate(120%);
  backdrop-filter: blur(14px) saturate(120%);

  border: 1px solid rgba(150,200,255,0.25);
  box-shadow:
    0 10px 40px rgba(0,0,0,0.45);

  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease;
  z-index: 1000;
}

.star-wrapper:hover .tooltip{
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* —Å–ª–æ–π –¥–ª—è tooltip –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ, —á—Ç–æ–±—ã backdrop-filter –≤–∏–¥–µ–ª —Ñ–æ–Ω */
#tooltip-layer{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 10000;
}

/* tooltip, –∫–æ–≥–¥–∞ –º—ã –ø–µ—Ä–µ–Ω–æ—Å–∏–º –µ–≥–æ –≤ #tooltip-layer */
#tooltip-layer .tooltip{
  position: fixed;
  left: 0;
  top: 0;
  bottom: auto;

  opacity: 0;
  transform: translate(-50%, 6px);

  background: rgba(10, 18, 32, 0.28);
  -webkit-backdrop-filter: blur(16px) saturate(125%);
  backdrop-filter: blur(16px) saturate(125%);
}

/* –ø–æ–∫–∞–∑–∞—Ç—å */
#tooltip-layer .tooltip.is-show{
  opacity: 1;
  transform: translate(-50%, 0);
}

@media (max-width: 768px){
  .header{
    top: 24px;
  }

  .header h1{
    font-size: 28px;
    letter-spacing: 0.12em;
  }

  .header p{
    font-size: 13px;
  }
}

@media (max-width: 768px){
  .tooltip{
    max-width: calc(100vw - 32px);
    font-size: 14px;
    padding: 12px 16px;
  }

  .tooltip .tooltip-text{
    font-size: 14px;
  }
}

html, body{
  touch-action: none;
}
